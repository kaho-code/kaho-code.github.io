<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FLIP診断：あなたの仕事スタイルを解き明かす</title>
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        /* Custom styles to complement Tailwind CSS */
        body {
            font-family: 'Inter', 'Noto Sans JP', sans-serif;
        }
        /* Style for smooth transition on result and error message display */
        #result, #error-message {
            transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <div class="container mx-auto max-w-3xl p-4 sm:p-8">
        <div class="bg-white rounded-2xl shadow-lg p-6 sm:p-10">
            
            <!-- Header Section -->
            <header class="text-center mb-8">
                <h1 class="text-3xl sm:text-4xl font-bold text-gray-800 mb-4">FLIP診断</h1>
                <p class="text-lg text-gray-600">あなたの仕事スタイルを解き明かす</p>
            </header>

            <!-- Introduction Section -->
            <div class="intro-section mb-10 text-gray-700 space-y-4">
                <p>FLIP診断へようこそ！この診断では、あなたの生まれ持った特性が仕事にどう影響するかを探ります。いくつかの質問に答えることで、あなたの強みや、最も輝ける働き方が見えてくるでしょう。</p>
                <p>FLIP診断は、以下の4つの軸であなたの仕事スタイルを分析します。</p>
                <ul class="space-y-3 mt-4">
                    <li class="flex items-start p-3 bg-blue-50 border-l-4 border-blue-500 rounded-r-lg">
                        <strong class="font-bold text-blue-800 mr-2">F (Focus):</strong> <span>あなたのエネルギーがどこに向かうか？</span>
                    </li>
                    <li class="flex items-start p-3 bg-green-50 border-l-4 border-green-500 rounded-r-lg">
                        <strong class="font-bold text-green-800 mr-2">L (Logic):</strong> <span>あなたがどのように意思決定するか？</span>
                    </li>
                    <li class="flex items-start p-3 bg-yellow-50 border-l-4 border-yellow-500 rounded-r-lg">
                        <strong class="font-bold text-yellow-800 mr-2">I (Interaction):</strong> <span>あなたがどのように他人と関わるか？</span>
                    </li>
                    <li class="flex items-start p-3 bg-red-50 border-l-4 border-red-500 rounded-r-lg">
                        <strong class="font-bold text-red-800 mr-2">P (Planning):</strong> <span>あなたがどのように物事を進めるか？</span>
                    </li>
                </ul>
                <p class="pt-4">さあ、あなたの仕事スタイルを探求しましょう！</p>
            </div>

            <!-- Quiz Form -->
            <form id="flip-quiz-form" class="space-y-8">
                <!-- Question 1 -->
                <div class="question-block bg-gray-50 p-6 rounded-lg border border-gray-200">
                    <p class="font-bold text-lg text-gray-800 mb-4"><span class="text-blue-600">質問1：</span>仕事の休憩中、あなたはどちらを好みますか？</p>
                    <div class="space-y-3">
                        <label class="flex items-center p-4 bg-white rounded-lg border-2 border-gray-200 hover:border-blue-500 cursor-pointer transition-all duration-200">
                            <input type="radio" name="q1" value="A" class="h-5 w-5 text-blue-600 focus:ring-blue-500 border-gray-300">
                            <span class="ml-4 text-gray-700">A. 同僚と交流し、情報交換をする。</span>
                        </label>
                        <label class="flex items-center p-4 bg-white rounded-lg border-2 border-gray-200 hover:border-blue-500 cursor-pointer transition-all duration-200">
                            <input type="radio" name="q1" value="B" class="h-5 w-5 text-blue-600 focus:ring-blue-500 border-gray-300">
                            <span class="ml-4 text-gray-700">B. 一人で静かに過ごし、リフレッシュする。</span>
                        </label>
                    </div>
                </div>

                <!-- Question 2 -->
                <div class="question-block bg-gray-50 p-6 rounded-lg border border-gray-200">
                    <p class="font-bold text-lg text-gray-800 mb-4"><span class="text-green-600">質問2：</span>新しいプロジェクトが始まった時、あなたはまず何をしますか？</p>
                    <div class="space-y-3">
                        <label class="flex items-center p-4 bg-white rounded-lg border-2 border-gray-200 hover:border-green-500 cursor-pointer transition-all duration-200">
                            <input type="radio" name="q2" value="A" class="h-5 w-5 text-green-600 focus:ring-green-500 border-gray-300">
                            <span class="ml-4 text-gray-700">A. 全体像を把握し、論理的な手順を組み立てる。</span>
                        </label>
                        <label class="flex items-center p-4 bg-white rounded-lg border-2 border-gray-200 hover:border-green-500 cursor-pointer transition-all duration-200">
                            <input type="radio" name="q2" value="B" class="h-5 w-5 text-green-600 focus:ring-green-500 border-gray-300">
                            <span class="ml-4 text-gray-700">B. 関係者の感情やニーズを考慮し、協力体制を築く。</span>
                        </label>
                    </div>
                </div>

                <!-- Question 3 -->
                <div class="question-block bg-gray-50 p-6 rounded-lg border border-gray-200">
                     <p class="font-bold text-lg text-gray-800 mb-4"><span class="text-green-600">質問3：</span>仕事でトラブルが発生した時、あなたはどのように対処しますか？</p>
                     <div class="space-y-3">
                        <label class="flex items-center p-4 bg-white rounded-lg border-2 border-gray-200 hover:border-green-500 cursor-pointer transition-all duration-200">
                            <input type="radio" name="q3" value="A" class="h-5 w-5 text-green-600 focus:ring-green-500 border-gray-300">
                             <span class="ml-4 text-gray-700">A. 客観的な事実に基づいて原因を分析し、解決策を見つける。</span>
                        </label>
                        <label class="flex items-center p-4 bg-white rounded-lg border-2 border-gray-200 hover:border-green-500 cursor-pointer transition-all duration-200">
                            <input type="radio" name="q3" value="B" class="h-5 w-5 text-green-600 focus:ring-green-500 border-gray-300">
                             <span class="ml-4 text-gray-700">B. 関係者の気持ちに寄り添い、状況を和やかに解決しようとする。</span>
                        </label>
                    </div>
                </div>

                <!-- Question 4 -->
                <div class="question-block bg-gray-50 p-6 rounded-lg border border-gray-200">
                    <p class="font-bold text-lg text-gray-800 mb-4"><span class="text-red-600">質問4：</span>仕事の進め方について、あなたはどちらを好みますか？</p>
                    <div class="space-y-3">
                        <label class="flex items-center p-4 bg-white rounded-lg border-2 border-gray-200 hover:border-red-500 cursor-pointer transition-all duration-200">
                            <input type="radio" name="q4" value="A" class="h-5 w-5 text-red-600 focus:ring-red-500 border-gray-300">
                            <span class="ml-4 text-gray-700">A. 事前に計画を立て、その計画に沿って着実に進める。</span>
                        </label>
                        <label class="flex items-center p-4 bg-white rounded-lg border-2 border-gray-200 hover:border-red-500 cursor-pointer transition-all duration-200">
                            <input type="radio" name="q4" value="B" class="h-5 w-5 text-red-600 focus:ring-red-500 border-gray-300">
                            <span class="ml-4 text-gray-700">B. 状況に応じて柔軟に対応し、臨機応変に進める。</span>
                        </label>
                    </div>
                </div>
                
                 <!-- Question 5 -->
                <div class="question-block bg-gray-50 p-6 rounded-lg border border-gray-200">
                     <p class="font-bold text-lg text-gray-800 mb-4"><span class="text-yellow-600">質問5：</span>チームで目標を設定する際、あなたはどちらを重視しますか？</p>
                     <div class="space-y-3">
                        <label class="flex items-center p-4 bg-white rounded-lg border-2 border-gray-200 hover:border-yellow-500 cursor-pointer transition-all duration-200">
                            <input type="radio" name="q5" value="A" class="h-5 w-5 text-yellow-600 focus:ring-yellow-500 border-gray-300">
                             <span class="ml-4 text-gray-700">A. 明確な数値目標と達成までの具体的なステップ。</span>
                        </label>
                        <label class="flex items-center p-4 bg-white rounded-lg border-2 border-gray-200 hover:border-yellow-500 cursor-pointer transition-all duration-200">
                            <input type="radio" name="q5" value="B" class="h-5 w-5 text-yellow-600 focus:ring-yellow-500 border-gray-300">
                             <span class="ml-4 text-gray-700">B. チームメンバーのモチベーションと協力体制。</span>
                        </label>
                    </div>
                </div>

                <!-- Question 6 -->
                <div class="question-block bg-gray-50 p-6 rounded-lg border border-gray-200">
                     <p class="font-bold text-lg text-gray-800 mb-4"><span class="text-yellow-600">質問6：</span>仕事で新しいアイデアを出す時、あなたはどちらのタイプですか？</p>
                     <div class="space-y-3">
                        <label class="flex items-center p-4 bg-white rounded-lg border-2 border-gray-200 hover:border-yellow-500 cursor-pointer transition-all duration-200">
                            <input type="radio" name="q6" value="A" class="h-5 w-5 text-yellow-600 focus:ring-yellow-500 border-gray-300">
                             <span class="ml-4 text-gray-700">A. 既存のデータや論理に基づき、現実的なアイデアを出す。</span>
                        </label>
                        <label class="flex items-center p-4 bg-white rounded-lg border-2 border-gray-200 hover:border-yellow-500 cursor-pointer transition-all duration-200">
                            <input type="radio" name="q6" value="B" class="h-5 w-5 text-yellow-600 focus:ring-yellow-500 border-gray-300">
                             <span class="ml-4 text-gray-700">B. 自由な発想で、ユニークで革新的なアイデアを出す。</span>
                        </label>
                    </div>
                </div>

                <!-- Question 7 -->
                <div class="question-block bg-gray-50 p-6 rounded-lg border border-gray-200">
                     <p class="font-bold text-lg text-gray-800 mb-4"><span class="text-red-600">質問7：</span>締め切りが迫っている時、あなたはどのように感じますか？</p>
                     <div class="space-y-3">
                        <label class="flex items-center p-4 bg-white rounded-lg border-2 border-gray-200 hover:border-red-500 cursor-pointer transition-all duration-200">
                            <input type="radio" name="q7" value="A" class="h-5 w-5 text-red-600 focus:ring-red-500 border-gray-300">
                             <span class="ml-4 text-gray-700">A. 計画通りに進めるために、より集中して取り組む。</span>
                        </label>
                        <label class="flex items-center p-4 bg-white rounded-lg border-2 border-gray-200 hover:border-red-500 cursor-pointer transition-all duration-200">
                            <input type="radio" name="q7" value="B" class="h-5 w-5 text-red-600 focus:ring-red-500 border-gray-300">
                             <span class="ml-4 text-gray-700">B. 状況に応じて優先順位を調整し、柔軟に対応する。</span>
                        </label>
                    </div>
                </div>
                
                <!-- Error Message Placeholder -->
                <div id="error-message" class="hidden opacity-0 p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-100 text-center" role="alert">
                    <span class="font-medium">すべての質問に回答してください。</span>
                </div>

                <!-- Submit Button -->
                <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-6 rounded-lg text-lg transition-transform transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-blue-300">
                    診断する
                </button>
            </form>
            
            <!-- Result Section (hidden by default) -->
            <div id="result" class="hidden opacity-0 mt-12 pt-8 border-t-2 border-dashed border-gray-200 transform translate-y-4">
                <h2 class="text-3xl font-bold text-center text-gray-800 mb-6">診断結果</h2>
                <div id="result-text" class="bg-indigo-50 p-8 rounded-lg text-gray-800 shadow-inner">
                    <!-- Result content will be injected here by JavaScript -->
                </div>
            </div>

        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const form = document.getElementById('flip-quiz-form');
            const resultDiv = document.getElementById('result');
            const resultText = document.getElementById('result-text');
            const errorMessageDiv = document.getElementById('error-message');

            // Add a style change on radio button selection for better UX
            form.querySelectorAll('input[type="radio"]').forEach(radio => {
                radio.addEventListener('change', (e) => {
                    const name = e.target.name;
                    // Reset style for all labels in the same question group
                    document.querySelectorAll(`input[name="${name}"]`).forEach(r => {
                        r.closest('label').classList.remove('border-blue-500', 'border-green-500', 'border-yellow-500', 'border-red-500', 'bg-blue-50');
                        r.closest('label').classList.add('border-gray-200');
                    });
                    
                    // Apply style to the selected label based on question category color
                    const selectedLabel = e.target.closest('label');
                    const questionText = selectedLabel.parentElement.previousElementSibling.firstElementChild.className;
                    if(questionText.includes('blue')) selectedLabel.classList.add('border-blue-500', 'bg-blue-50');
                    if(questionText.includes('green')) selectedLabel.classList.add('border-green-500', 'bg-green-50');
                    if(questionText.includes('yellow')) selectedLabel.classList.add('border-yellow-500', 'bg-yellow-50');
                    if(questionText.includes('red')) selectedLabel.classList.add('border-red-500', 'bg-red-50');
                });
            });

            form.addEventListener('submit', function(event) {
                event.preventDefault(); // Prevent default form submission

                // --- Validation ---
                // Check if all questions are answered
                const totalQuestions = 7; 
                let answeredCount = 0;
                for(let i=1; i <= totalQuestions; i++){
                    if(this.querySelector(`input[name="q${i}"]:checked`)){
                        answeredCount++;
                    }
                }
                
                if (answeredCount < totalQuestions) {
                    // Show custom error message instead of alert
                    errorMessageDiv.classList.remove('hidden', 'opacity-0');
                    setTimeout(() => {
                         errorMessageDiv.classList.add('hidden', 'opacity-0');
                    }, 3000); // Hide after 3 seconds
                    return;
                }

                // --- Data Collection ---
                const answers = {
                    q1: this.q1.value,
                    q2: this.q2.value,
                    q3: this.q3.value,
                    q4: this.q4.value,
                    q5: this.q5.value,
                    q6: this.q6.value,
                    q7: this.q7.value
                };

                // --- Logic for determining personality type ---
                
                // F (Focus): E (Extraversion) vs I (Introversion)
                let focusType = (answers.q1 === 'A') 
                    ? { code: 'E', name: '外向型', desc: 'チームでの協業や交流を通じてエネルギーを得るタイプ。' }
                    : { code: 'I', name: '内向型', desc: '一人で集中したり、熟考したりすることでエネルギーを回復するタイプ。' };

                // L (Logic): T (Thinking) vs F (Feeling)
                const logicACount = (answers.q2 === 'A' ? 1 : 0) + (answers.q3 === 'A' ? 1 : 0);
                let logicType = (logicACount >= 1) 
                    ? { code: 'T', name: '思考型', desc: '論理や客観性を重視し、合理的に物事を判断するタイプ。' }
                    : { code: 'F', name: '感情型', desc: '人間関係や感情、価値観を重視し、共感を基に判断するタイプ。' };

                // I (Interaction): S (Sensing) vs N (Intuition)
                const interactionACount = (answers.q5 === 'A' ? 1 : 0) + (answers.q6 === 'A' ? 1 : 0);
                let interactionType = (interactionACount >= 1) 
                    ? { code: 'S', name: '現実型', desc: '具体的な情報や事実を重視し、現実的な解決策を好むタイプ。' }
                    : { code: 'N', name: '直感型', desc: '可能性や全体像、将来性に着目し、ひらめきを大切にするタイプ。' };

                // P (Planning): J (Judging) vs P (Perceiving)
                const planningACount = (answers.q4 === 'A' ? 1 : 0) + (answers.q7 === 'A' ? 1 : 0);
                let planningType = (planningACount >= 1) 
                    ? { code: 'J', name: '判断型', desc: '計画的で組織的、物事を明確に決定し、秩序を好むタイプ。' }
                    : { code: 'P', name: '知覚型', desc: '柔軟で自発的、選択肢を残し、状況に応じて変化を楽しむタイプ。' };
                
                const fullType = focusType.code + logicType.code + interactionType.code + planningType.code;

                // --- Displaying Results ---
                resultText.innerHTML = `
                    <h3 class="text-2xl font-bold text-center text-indigo-800 mb-6">あなたのFLIPタイプは <span class="bg-indigo-200 px-3 py-1 rounded-md">${fullType}</span> です！</h3>
                    <div class="space-y-5 text-left">
                        <div class="p-4 bg-white rounded-lg shadow-sm border border-blue-200">
                            <p class="font-bold text-lg text-blue-800">F (Focus): ${focusType.name}</p>
                            <p class="mt-1 text-gray-600">${focusType.desc}</p>
                        </div>
                        <div class="p-4 bg-white rounded-lg shadow-sm border border-green-200">
                            <p class="font-bold text-lg text-green-800">L (Logic): ${logicType.name}</p>
                            <p class="mt-1 text-gray-600">${logicType.desc}</p>
                        </div>
                        <div class="p-4 bg-white rounded-lg shadow-sm border border-yellow-200">
                            <p class="font-bold text-lg text-yellow-800">I (Interaction): ${interactionType.name}</p>
                            <p class="mt-1 text-gray-600">${interactionType.desc}</p>
                        </div>
                        <div class="p-4 bg-white rounded-lg shadow-sm border border-red-200">
                            <p class="font-bold text-lg text-red-800">P (Planning): ${planningType.name}</p>
                            <p class="mt-1 text-gray-600">${planningType.desc}</p>
                        </div>
                    </div>
                    <p class="mt-8 text-center text-gray-600">この診断結果を参考に、あなたの仕事スタイルやキャリアの方向性について考えてみましょう。</p>
                `;
                
                // Show result section with a smooth animation
                resultDiv.classList.remove('hidden');
                setTimeout(() => {
                    resultDiv.classList.remove('opacity-0', 'translate-y-4');
                    resultDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }, 100); // A short delay to allow the 'hidden' class removal to register
            });
        });
    </script>
</body>
</html>
